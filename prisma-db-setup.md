# üéØ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ë–î —Å Prisma –¥–ª—è Production

## üìã –®–∞–≥–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:

### 1Ô∏è‚É£ **–û–±–Ω–æ–≤–∏ DATABASE_URL –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)**
```bash
# –í backend/.env:
DATABASE_URL="postgresql://gen_user:j7X_S9mznbdGHc9P@5.129.247.54:5432/default_db"
```

### 2Ô∏è‚É£ **–°–æ–∑–¥–∞–π –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ**
```sql
-- –ü–æ–¥–∫–ª—é—á–∏—Å—å –∫ PostgreSQL:
psql -h 5.129.247.54 -p 5432 -U gen_user -d postgres

-- –°–æ–∑–¥–∞–π –±–∞–∑—É:
CREATE DATABASE default_db;

-- –î–∞–π –ø—Ä–∞–≤–∞:
GRANT ALL PRIVILEGES ON DATABASE default_db TO gen_user;
```

### 3Ô∏è‚É£ **–ü—Ä–∏–º–µ–Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ Prisma**
```bash
cd backend

# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π Prisma –∫–ª–∏–µ–Ω—Ç:
npx prisma generate

# –ü—Ä–∏–º–µ–Ω–∏ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫ –Ω–æ–≤–æ–π –ë–î:
npx prisma db push

# –ò–õ–ò –µ—Å–ª–∏ –µ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏:
npx prisma migrate deploy

# –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç:
npx prisma studio
```

### 4Ô∏è‚É£ **–°–æ–∑–¥–∞–π –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞**
```bash
cd backend
npm run create-admin
```

### 5Ô∏è‚É£ **–¢–µ—Å—Ç–∏—Ä—É–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ**
```bash
# –ó–∞–ø—É—Å—Ç–∏ –±—ç–∫–µ–Ω–¥ –ª–æ–∫–∞–ª—å–Ω–æ —Å –Ω–æ–≤–æ–π –ë–î:
npm run dev

# –ü—Ä–æ–≤–µ—Ä—å /api/health
curl http://localhost:3001/api/health
```

## ‚úÖ **–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **–°–æ–∑–¥–∞–π GitHub Secrets** —Å –¥–∞–Ω–Ω—ã–º–∏ –∏–∑ `production-env-template.txt`
2. **–ü—É—à –≤ main –≤–µ—Ç–∫—É** –∑–∞–ø—É—Å—Ç–∏—Ç –∞–≤—Ç–æ–¥–µ–ø–ª–æ–π
3. **CI/CD —Å–∞–º –≤—ã–ø–æ–ª–Ω–∏—Ç** `prisma migrate deploy` –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## üö® **–í–∞–∂–Ω–æ:**
- Prisma **—Å–∞–º–∞ —Å–æ–∑–¥–∞—Å—Ç** –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã –∏–∑ `schema.prisma`
- **–ù–ï –Ω—É–∂–µ–Ω** –æ—Ç–¥–µ–ª—å–Ω—ã–π SQL —Å–∫—Ä–∏–ø—Ç
- –í—Å–µ –¥–∞–Ω–Ω—ã–µ **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏** –º–∏–≥—Ä–∏—Ä—É—é—Ç –ø—Ä–∏ –¥–µ–ø–ª–æ–µ

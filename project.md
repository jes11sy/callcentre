# –ê–Ω–∞–ª–∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã: Call Centre CRM

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
frontend/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # Next.js App Router (—Å—Ç—Ä–∞–Ω–∏—Ü—ã)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/             # –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login/             # –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/            # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telephony/         # –¢–µ–ª–µ—Ñ–æ–Ω–∏—è –∏ –∑–≤–æ–Ω–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ messages/          # –¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –ê–≤–∏—Ç–æ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ stats/             # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile/           # –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚îÇ   ‚îú‚îÄ‚îÄ components/            # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ auth/              # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/            # –ú–∞–∫–µ—Ç—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ui/                # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (shadcn/ui)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ orders/            # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–∫–∞–∑–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ telephony/         # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Ç–µ–ª–µ—Ñ–æ–Ω–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ messages/          # –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ hooks/                 # –ö–∞—Å—Ç–æ–º–Ω—ã–µ React —Ö—É–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ lib/                   # –£—Ç–∏–ª–∏—Ç—ã –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ store/                 # Zustand store
‚îú‚îÄ‚îÄ public/                    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
‚îî‚îÄ‚îÄ config files              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
```

**–ü—Ä–∏–Ω—Ü–∏–ø—ã –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏:** Feature-based –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –ø–æ –¥–æ–º–µ–Ω–∞–º (orders, telephony, messages) + —Å–ª–æ–π UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –í–µ—Ä—Å–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------------|--------|------------|
| **Next.js** | 15.5.3 | React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ —Å App Router |
| **React** | 19.1.0 | UI –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ |
| **TypeScript** | ^5 | –¢–∏–ø–∏–∑–∞—Ü–∏—è |
| **Tailwind CSS** | ^3.4.17 | CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ |
| **shadcn/ui** | - | UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã |
| **Radix UI** | ^1.x | –ü—Ä–∏–º–∏—Ç–∏–≤—ã –¥–ª—è UI |
| **Zustand** | ^5.0.8 | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º |
| **TanStack Query** | ^5.89.0 | –°–µ—Ä–≤–µ—Ä–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ |
| **React Hook Form** | ^7.63.0 | –§–æ—Ä–º—ã |
| **Zod** | ^4.1.9 | –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ö–µ–º |
| **Axios** | ^1.12.2 | HTTP –∫–ª–∏–µ–Ω—Ç |
| **Framer Motion** | ^12.23.16 | –ê–Ω–∏–º–∞—Ü–∏–∏ |
| **Lucide React** | ^0.544.0 | –ò–∫–æ–Ω–∫–∏ |

## üèó –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- **–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –Ω–∞–¥ –Ω–∞—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ compound components (Card, CardHeader, CardContent)
- **Compound Components**: –¢–∞–±–ª–∏—Ü—ã, –¥–∏–∞–ª–æ–≥–∏, —Ñ–æ—Ä–º—ã –ø–æ—Å—Ç—Ä–æ–µ–Ω—ã –∫–∞–∫ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤
- **Render Props**: –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö –¥–ª—è –≥–∏–±–∫–æ—Å—Ç–∏

```tsx
// –ü—Ä–∏–º–µ—Ä compound component
<Card>
  <CardHeader>
    <CardTitle>–ó–∞–≥–æ–ª–æ–≤–æ–∫</CardTitle>
    <CardDescription>–û–ø–∏—Å–∞–Ω–∏–µ</CardDescription>
  </CardHeader>
  <CardContent>–°–æ–¥–µ—Ä–∂–∏–º–æ–µ</CardContent>
</Card>
```

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- **Zustand** –¥–ª—è –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
- **TanStack Query** –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- **React Hook Form** –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Ñ–æ—Ä–º
- **useState/useEffect** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

```tsx
// Zustand store
export const useAuthStore = create<AuthState>()(
  persist(
    (set) => ({
      user: null,
      isAuthenticated: false,
      login: (user) => set({ user, isAuthenticated: true }),
      logout: () => set({ user: null, isAuthenticated: false }),
    }),
    { name: 'auth-storage' }
  )
);
```

### API —Å–ª–æ–π
- **Axios** —Å –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä–∞–º–∏ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** —á–µ—Ä–µ–∑ refresh token
- **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**

```tsx
// API –∏–Ω—Ç–µ—Ä—Ü–µ–ø—Ç–æ—Ä
api.interceptors.response.use(
  (response) => response,
  async (error) => {
    if (error.response?.status === 401) {
      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
      const refreshToken = localStorage.getItem('refreshToken');
      // ... –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
    }
  }
);
```

### –†–æ—É—Ç–∏–Ω–≥ –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- **Next.js App Router** —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π —Ä–æ—É—Ç–∏–Ω–≥–∞
- **ProtectedRoute** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
- **–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** (admin/operator) —Å —Ä–∞–∑–Ω—ã–º–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- **Error Boundaries** –¥–ª—è –æ—Ç–ª–æ–≤–∞ –æ—à–∏–±–æ–∫ React
- **Toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** (Sonner) –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- **Loading —Å–æ—Å—Ç–æ—è–Ω–∏—è** —Å —Å–∫–µ–ª–µ—Ç–æ–Ω–∞–º–∏

## üé® UI/UX –∏ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### –ü–æ–¥—Ö–æ–¥—ã –∫ —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏
- **Tailwind CSS** –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **CSS Variables** –¥–ª—è —Ç–µ–º–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ HSL —Ü–≤–µ—Ç–∞
- **shadcn/ui** –∫–∞–∫ –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
- **Responsive design** —Å mobile-first –ø–æ–¥—Ö–æ–¥–æ–º

```css
/* CSS Variables –¥–ª—è —Ç–µ–º–∏–∑–∞—Ü–∏–∏ */
:root {
  --background: 0 0% 100%;
  --foreground: 222.2 84% 4.9%;
  --primary: 222.2 47.4% 11.2%;
  --primary-foreground: 210 40% 98%;
}
```

### –î–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** —á–µ—Ä–µ–∑ shadcn/ui
- **–¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞** —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ü–≤–µ—Ç–∞–º–∏
- **–¢–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∞** —Å —Å–∏—Å—Ç–µ–º–æ–π —Ä–∞–∑–º–µ—Ä–æ–≤
- **Spacing —Å–∏—Å—Ç–µ–º–∞** —á–µ—Ä–µ–∑ Tailwind

### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å
- **Mobile-first** –ø–æ–¥—Ö–æ–¥
- **Breakpoints**: sm, md, lg, xl, 2xl
- **Flexible layouts** —Å CSS Grid –∏ Flexbox
- **Responsive tables** —Å –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–º —Å–∫—Ä–æ–ª–ª–æ–º

### –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å (a11y)
- **Radix UI** –ø—Ä–∏–º–∏—Ç–∏–≤—ã —Å –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å—é
- **Keyboard navigation** –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- **ARIA –∞—Ç—Ä–∏–±—É—Ç—ã** –≤ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö
- **Focus management** –≤ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–Ω–∞—Ö

## ‚úÖ –ö–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ª–∏–Ω—Ç–µ—Ä–æ–≤
- **ESLint** —Å Next.js –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- **TypeScript** —Å—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Prettier** (–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω —è–≤–Ω–æ, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)

### –°–æ–≥–ª–∞—à–µ–Ω–∏—è –ø–æ –∫–æ–¥—É
- **PascalCase** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **camelCase** –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –∏ —Ñ—É–Ω–∫—Ü–∏–π
- **kebab-case** –¥–ª—è —Ñ–∞–π–ª–æ–≤
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã–µ –∏–º–ø–æ—Ä—Ç—ã** —Å –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–æ–π

### TypeScript —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- **Generic —Ç–∏–ø—ã** –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **Zod —Å—Ö–µ–º—ã** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ API –æ—Ç–≤–µ—Ç–æ–≤

```tsx
// –ü—Ä–∏–º–µ—Ä —Å—Ç—Ä–æ–≥–æ–π —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
interface Order {
  id: number;
  rk: string;
  city: string;
  avitoName?: string;
  phone: string;
  typeOrder: 'first_time' | 'repeat' | 'warranty';
  // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è
}
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- **–¢–µ—Å—Ç—ã –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç** - –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
- **–ù–µ—Ç unit —Ç–µ—Å—Ç–æ–≤** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- **–ù–µ—Ç integration —Ç–µ—Å—Ç–æ–≤** –¥–ª—è API

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç
- **README** —Ñ–∞–π–ª—ã –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ
- **Inline –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏** –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏

## üîß –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. DashboardLayout
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û—Å–Ω–æ–≤–Ω–æ–π –º–∞–∫–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –∏ –∑–∞—â–∏—Ç–æ–π –º–∞—Ä—à—Ä—É—Ç–æ–≤

```tsx
export function DashboardLayout({ 
  children, 
  variant = 'operator', 
  requiredRole 
}: DashboardLayoutProps) {
  const allowedRoles = requiredRole ? [requiredRole] : ['admin', 'operator'];
  
  return (
    <ProtectedRoute allowedRoles={allowedRoles}>
      <div className="h-screen bg-gray-50 flex flex-col overflow-hidden">
        <Header variant={variant} />
        <main className="flex-1 overflow-hidden">
          {children}
        </main>
      </div>
    </ProtectedRoute>
  );
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –†–æ–ª—å-–±–∞–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∑–∞—â–∏—Ç–∞, –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π.

### 2. OrdersPage
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, –ø–æ–∏—Å–∫–æ–º –∏ CRUD –æ–ø–µ—Ä–∞—Ü–∏—è–º–∏

```tsx
const { data: ordersData, isLoading, error } = useQuery<OrdersResponse>({
  queryKey: ['orders', page, limit, search, statusFilter, cityFilter, rkFilter, userData?.id, userData?.role],
  queryFn: async () => {
    const params = new URLSearchParams({
      page: page.toString(),
      limit: limit.toString(),
      ...(search && { search }),
      ...(statusFilter && statusFilter !== 'all' && { status: statusFilter }),
    });
    
    const response = await fetch(`/api/orders?${params}`, {
      headers: { 'Authorization': `Bearer ${token}` }
    });
    
    return response.json();
  },
  enabled: !!userData && !authLoading
});
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–ª–æ–∂–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, –ø–∞–≥–∏–Ω–∞—Ü–∏—è, –º–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞.

### 3. TelephonyPage
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–≤–æ–Ω–∫–∞–º–∏ —Å –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä–æ–º –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–∫–∞–∑–æ–≤

```tsx
const AudioPlayer = ({ call }: { call: Call }) => {
  const isCurrentCall = playingCall === call.id;
  const hasRecording = !!call.recordingPath;

  if (!isCurrentCall) {
    return (
      <Button
        variant="outline"
        size="sm"
        onClick={() => loadRecording(call)}
      >
        <Play className="h-4 w-4" />
      </Button>
    );
  }

  return (
    <div className="flex items-center gap-2 p-2 bg-blue-50 rounded-lg border">
      {/* –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä —Å –∫–æ–Ω—Ç—Ä–æ–ª–∞–º–∏ */}
    </div>
  );
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ö–∞—Å—Ç–æ–º–Ω—ã–π –∞—É–¥–∏–æ–ø–ª–µ–µ—Ä, –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –∑–≤–æ–Ω–∫–æ–≤, –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mango Office.

### 4. MessagesPage
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –¶–µ–Ω—Ç—Ä —Å–æ–æ–±—â–µ–Ω–∏–π –ê–≤–∏—Ç–æ —Å —á–∞—Ç–∞–º–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ–º –∑–∞–∫–∞–∑–æ–≤

```tsx
const loadMessages = async (chat: AvitoChat, silent = false) => {
  try {
    if (!silent) setMessagesLoading(true);
    
    const response = await authApi.get(`/avito-messenger/chats/${chat.id}/messages?${params.toString()}&_t=${Date.now()}`);
    
    if (response.data.success) {
      const messages = response.data.data?.messages || [];
      const reversedMessages = messages.reverse();
      setMessages(reversedMessages);
      setShouldScroll(true);
    }
  } catch (err) {
    // –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
  }
};
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Avito API, —Å–ª–æ–∂–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è —á–∞—Ç–æ–≤.

### 5. AuthProvider
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤

```tsx
export function AuthProvider({ children }: AuthProviderProps) {
  const { setUser, setLoading } = useAuthStore();

  useEffect(() => {
    const initAuth = async () => {
      try {
        const storedUser = authApi.getUser();
        const isAuthenticated = authApi.isAuthenticated();

        if (storedUser && isAuthenticated) {
          try {
            const profile = await authApi.getProfile();
            setUser(profile.data);
          } catch (error) {
            authApi.logout();
            setUser(null);
          }
        }
      } finally {
        setLoading(false);
      }
    };

    initAuth();
  }, [setUser, setLoading]);

  return <>{children}</>;
}
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤, graceful fallback –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö.

## üìã –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ best practices

### –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã
- **Compound Components** –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö UI —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **Custom Hooks** –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- **Error Boundaries** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- **Loading States** —Å —Å–∫–µ–ª–µ—Ç–æ–Ω–∞–º–∏

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **React Query** –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **useCallback/useMemo** –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤
- **Lazy Loading** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª)
- **Virtual Scrolling** –¥–ª—è –±–æ–ª—å—à–∏—Ö —Å–ø–∏—Å–∫–æ–≤ (–ø–æ—Ç–µ–Ω—Ü–∏–∞–ª)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **TanStack Query** –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- **Optimistic Updates** –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è UX
- **Retry –ª–æ–≥–∏–∫–∞** —Å —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–º backoff
- **Loading –∏ Error —Å–æ—Å—Ç–æ—è–Ω–∏—è** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **Zod —Å—Ö–µ–º—ã** –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ñ–æ—Ä–º –∏ API –æ—Ç–≤–µ—Ç–æ–≤
- **React Hook Form** —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Zod
- **Type-safe** –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

```tsx
const sendMessageSchema = z.object({
  message: z.string().min(1, '–°–æ–æ–±—â–µ–Ω–∏–µ –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º')
});

const { register, handleSubmit, formState: { errors } } = useForm<SendMessageFormData>({
  resolver: zodResolver(sendMessageSchema)
});
```

## üìã –í—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã
1. **–°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π** —Å Next.js 15, React 19, TypeScript
2. **–•–æ—Ä–æ—à–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
3. **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–∏–∑–∞–π–Ω-—Å–∏—Å—Ç–µ–º–∞** —á–µ—Ä–µ–∑ shadcn/ui
4. **–°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è** TypeScript
5. **–≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º** —Å Zustand + TanStack Query
6. **Responsive –¥–∏–∑–∞–π–Ω** —Å Tailwind CSS
7. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏** —Å –≤–Ω–µ—à–Ω–∏–º–∏ API (Avito, Mango Office)

### –û–±–ª–∞—Å—Ç–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è
1. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–æ–±–∞–≤–∏—Ç—å unit –∏ integration —Ç–µ—Å—Ç—ã
2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: JSDoc –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ README —Ñ–∞–π–ª—ã
3. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: Lazy loading, code splitting
4. **Accessibility**: –†–∞—Å—à–∏—Ä–∏—Ç—å a11y –ø–æ–¥–¥–µ—Ä–∂–∫—É
5. **Error Handling**: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
6. **Monitoring**: –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –æ—à–∏–±–æ–∫

### –£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏
**Middle/Senior friendly** - –ø—Ä–æ–µ–∫—Ç —Ç—Ä–µ–±—É–µ—Ç –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö React –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤, TypeScript, –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π —Å –≤–Ω–µ—à–Ω–∏–º–∏ API.

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —Ä–∞–∑–≤–∏—Ç–∏—é
1. **–î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å Jest + React Testing Library
2. **–í–Ω–µ–¥—Ä–∏—Ç—å Storybook** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
3. **–ù–∞—Å—Ç—Ä–æ–∏—Ç—å CI/CD** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ç–µ—Å—Ç–∞–º–∏
4. **–î–æ–±–∞–≤–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** —Å Sentry –∏–ª–∏ –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–º
5. **–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å bundle size** —Å –∞–Ω–∞–ª–∏–∑–æ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
6. **–†–∞—Å—à–∏—Ä–∏—Ç—å accessibility** –ø–æ–¥–¥–µ—Ä–∂–∫—É

–ü—Ä–æ–µ–∫—Ç –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç –≤—ã—Å–æ–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π –∏ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.
